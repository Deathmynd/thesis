%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{ТЕСТИРОВАНИЕ, АНАЛИЗ ПОЛУЧЕННЫХ РЕЗУЛЬТАТОВ}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Тестирование --- важная часть разработки программного обеспечения, помогающая разработчику создавать работоспособное приложение. В данном разделе будет осуществлено функциональное тестирование компонентов системы. Функциональное тестирование позволяет рассмотреть варианты использования приложения и выявить недочеты в программе.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Тестирование компонента регистрации новых клиентов}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Тестирование проводилось с использованием мобильного телефона Sony Ericsson Xperia Neo V.
При подключении к открытой Wi-Fi сети появляется уведомление о необходимости авторизации. После нажатия на всплывающее уведомление в списке событий, открывается окно регистрации сервера Captive Portal. Окно регистрации представлено на рис.\ref{fig:cp}

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth/2]{fig/Testing/cp}
	\caption{Окно регистрации сервера Captive Portal}
	\label{fig:cp}
\end{figure}

В окне регистрации появляется возможность ввести данные о номере телефона, возрасте и поле. Страница позволяет загрузить и прочитать пользовательское соглашение. В конце веб-страницы пользователь предупреждается о согласии с соглашением, если тот нажмет на кнопку регистрации. 

При успешной регистрации в браузере смартфона открывается страница поиска Google. Результат перенаправления представлен на рис.\ref{fig:google}. С этого момента информация сохранена в клиентской базе данных, а клиенту предоставлен доступ в интернет. Запись о новом клиенте можно увидеть на рис.\ref{fig:clientCreate}.

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth/2]{fig/Testing/google}
	\caption{Результат успешной регистрации в системе}
	\label{fig:google}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth/2]{fig/Testing/clientCreate}
	\caption{Результат успешной регистрации в системе}
	\label{fig:clientCreate}
\end{figure}

Для того чтобы эмулировать новое подключение клиента к системе в которой он уже зарегистрирован необходимо перезапустить сервер регистрации, что приведет к сбросу локально сохраненных данных. При совершении нового подключения на устройстве клиента ничего не происходит, а интернет сразу становится доступным.  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Тестирование Wi-Fi сканера}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Для того чтобы протестировать Wi-Fi сканер достаточно включить на недолгое время Wi-Fi в зарегистрированном устройстве. После этого запись о его появлении появится в клиентской базе данных. Запись о новом посещении показана на рис.\ref{fig:createVisit}.

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth/2]{fig/Testing/createVisit}
	\caption{Запись о посещении клиентом зоны действия Wi-Fi сканера}
	\label{fig:createVisit}
\end{figure}

Включение других устройств в зоне действия сканера приводит к отправке сообщений на сервер, однако новых записей не появляется, так как эти устройства не зарегистрированны.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Тестирование компонента генерации рекламных событий}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Тестирование этого компонента начинается со страницы логирования. На рис.\ref{fig:loginError} показана ситуация введения пользователем неверного логина. А на рис.\ref{fig:passError} введение неверного пароля.

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth/2]{fig/Testing/loginError}
	\caption{Введение неверного логина на странице авторизации}
	\label{fig:loginError}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth/2]{fig/Testing/passError}
	\caption{Введение неверного пароля на странице авторизации}
	\label{fig:passError}
\end{figure}

Успешно пройдя авторизацию пользователю предоставляется возможность осуществить добавление правила, по которому будут генерироваться рекламные сообщения. Здесь ему необходимо выбрать тип правила, выставить соответствующие поля фильтров и указать рекламное сообщение, которое будет отправлено клиенту. Добавление каждого типа правила представлено на рис.\ref{fig:ruleCreateUIMomental}, рис.\ref{fig:ruleCreateUIDaysOfWeek} и рис.\ref{fig:ruleCreateUILastDays}.

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth*3/5]{fig/Testing/ruleCreateUIMomental}
	\caption{Добавление правила, типа: моментальное}
	\label{fig:ruleCreateUIMomental}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth*3/5]{fig/Testing/ruleCreateUIDaysOfWeek}
	\caption{Добавление правила, типа: по дням недели}
	\label{fig:ruleCreateUIDaysOfWeek}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth*3/5]{fig/Testing/ruleCreateUILastDays}
	\caption{Добавление правила, типа: последние n дней}
	\label{fig:ruleCreateUILastDays}
\end{figure}

Увидеть добавленные в базу знаний правила можно на рис.\ref{fig:ruleInDB}

\begin{figure}[h]
	\centering
	\includegraphics[width=\linewidth/2]{fig/Testing/ruleInDB}
	\caption{Отображение новых правил в базе знаний}
	\label{fig:ruleInDB}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Анализ результатов}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

В результате тестирования установлено, что в системе решены все поставленные задачи. Осуществлена возможность регистрации клиента. Получен модуль, позволяющий отслеживать появление клиентов в зоне его досягаемости. Разработано приложение для формирования правил таргетирования сообщений. Разработан компонент, позволяющий обрабатывать внесенные правила и на их основе генерировать события о посылке SMS сообщений.

Созданная система может быть использована любой желающей компанией. Этому способствует реализация главной части системы с использованием облачной архитектуры. Для того чтобы начать использование, пользователю необходимо первым делом зарегистрироваться. Далее следует приобрести оборудование, на которое может быть установлен компонент регистрации новых клиентов и оборудование для установки Wi-Fi сканера. Для разработанных программных компонентов не требуется мощного оборудования и это делает систему более доступной для пользователей. Приобретя аппаратуру, пользователь должен разместить компонент регистрации в своей организации, а Wi-Fi сканеры в наиболее интересных для него местах --- например, на улице возле совего офиса. После этого следует зарегистрировать настроенное оборудование в системе. В дальнейшем пользователь может осуществлять добавление рекламных правил и событий.

Недостатком данной системы является тот факт, что Wi-Fi модуль остается включенным в смартфонах не так уж и часто. Обычно его выключают сразу после использования. В дальнейшем можно разработать систему идентификации клиента по каким-либо другим признакам. Например Bluetooth устройство или радио-модуль смартфона.

Еще одним существенным ограничением является тенденция к анонимизации Wi-Fi модуля. Некоторые современные устройства рассылают пакеты Probe Request используя случайный MAC-адрес. Это делает выявление клиентского устройства более трудным. Однако существуют исследования, утверждающие, что такой метод анонимизации легко обойти, путем создания "слепка" сообщений, рассылаемых смартфоном.

Дальнейшее развитие системы должно быть направлено на расширение функциональности веб-интерфейса и его привлекательность и удобности с точки зрения внешнего вида. Переработка страницы создания правил в полноценный конструктор была бы очень привлекательной для пользователей. Так же система позволяет реализовать новые виды фильтров для создаваемых правил. Возможно и добавление типов правил, связанных с фильтрацией по времени. 